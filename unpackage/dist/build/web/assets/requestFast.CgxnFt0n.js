import{J as t,B as e,G as n,C as i,k as a,l as s}from"./index-dXG6ee6K.js";const o="https://api.meijian.online/master",r="https://api.meijian.online/static";const p=(o,r="GET",p={},l={},c=!0)=>{const d=function(e={}){return{"Content-Type":"application/json",Authorization:t("token")||"",...e}}(l);return c&&e({title:"加载中..."}),new Promise(((t,e)=>{n({url:`https://api.meijian.online/master${o}`,method:r,data:"GET"===r?p:JSON.stringify(p),header:d,success:n=>{if(i(),403===n.statusCode)return a({title:"Token 无效，请重新登录",icon:"none"}),setTimeout((()=>{s({url:"/pages/index/index"})}),800),void e("Token 无效");200===n.statusCode?t(n.data):(e(n),a({title:n.data.message||"服务器开小差了，稍后再试!",icon:"none"}))},fail:t=>{i(),e(t),a({title:"服务器开小差了，稍后再试",icon:"none"})}})}))},l={get:(t,e={},n={},i=!0)=>p(t,"GET",e,n,i),post:(t,e={},n={},i=!0)=>p(t,"POST",e,n,i)};export{o as A,r as a,l as r};
