import{r as a,ak as s,J as e,l,c as o,w as t,i as n,o as r,b as c,d,k as u,I as i,al as p,am as m,m as g,p as f,a8 as v,a3 as _}from"./index-dXG6ee6K.js";import{_ as w,o as b}from"./uni-app.es.DAsfJT2_.js";import{r as h}from"./requestFast.CgxnFt0n.js";const y=w({__name:"login",setup(w){const y=a("/static/login-bg.mp4"),k=a("/static/logo.png"),x=s({username:"",password:""}),V=a(!1),I=async()=>{if(!x.username.trim())return void u({title:"请输入用户ID",icon:"none"});if(!x.password)return void u({title:"请输入密码",icon:"none"});V.value=!0;const a=await h.post("/public/store/view/mod/login",{userId:x.username,passWord:x.password});if(a){if(200===a.code)return i("token",a.token),u({icon:"success",title:a.msg,success(){p({delta:1})}}),void(V.value=!1);u({icon:"error",title:a.msg}),V.value=!1}};return b((()=>{e("token")&&l({url:"/pages/index/index"})})),(a,s)=>{const e=m,l=n,u=g,i=f,p=v,w=_;return r(),o(l,{class:"login-container"},{default:t((()=>[c(e,{class:"bg-video",src:y.value,autoplay:"",loop:"",muted:"","show-play-btn":!1,controls:!1,objectFit:"cover"},null,8,["src"]),c(l,{class:"video-overlay"}),c(l,{class:"login-box"},{default:t((()=>[c(u,{class:"logo",src:k.value,mode:"aspectFit"},null,8,["src"]),c(i,{class:"company-name"},{default:t((()=>[d("广东济群药业有限公司")])),_:1}),c(l,{class:"form"},{default:t((()=>[c(l,{class:"input-group"},{default:t((()=>[c(p,{class:"input",type:"text",modelValue:x.username,"onUpdate:modelValue":s[0]||(s[0]=a=>x.username=a),placeholder:"请输入用户ID","placeholder-class":"placeholder"},null,8,["modelValue"])])),_:1}),c(l,{class:"input-group"},{default:t((()=>[c(p,{class:"input",type:"password",modelValue:x.password,"onUpdate:modelValue":s[1]||(s[1]=a=>x.password=a),placeholder:"请输入密码","placeholder-class":"placeholder",onConfirm:I},null,8,["modelValue"])])),_:1}),c(w,{class:"login-btn",onClick:I,loading:V.value},{default:t((()=>[d("登 录")])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-dc9abc04"]]);export{y as default};
